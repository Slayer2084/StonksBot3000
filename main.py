# -------------------------------------------------------------------------------------------------------------------- #
# Imports                                                                                                              #
# -------------------------------------------------------------------------------------------------------------------- #

from DataCollection.News.CNBC.Archive import CNBCArchive
from DataCollection.News.NewYorkTimes.Archive import NYTArchive
from DataCollection.News.NewYorkTimes.Stream import NYTStreamer
from DataCollection.News.CNBC.Stream import CNBCStreamer

# -------------------------------------------------------------------------------------------------------------------- #
# Get Archived Data                                                                                                    #
# -------------------------------------------------------------------------------------------------------------------- #
#   Get CNBCArchive                                                                                                    #

cnbc_archiver = CNBCArchive()
CNBC_Archive = cnbc_archiver.get_data(rerun=True)

#   Get NYTArchive                                                                                                     #

nyt_archiver = NYTArchive()
NYT_Archive = nyt_archiver.get_data(rerun=True)

#   Get ArchivedStockData                                                                                              #

# -------------------------------------------------------------------------------------------------------------------- #
# Preprocessing + DataCleaning                                                                                         #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Generate Features                                                                                                    #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Filter Important Features                                                                                            #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Train Model + Slight HyperparameterOptimization                                                                      #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Get LiveData                                                                                                         #
# -------------------------------------------------------------------------------------------------------------------- #
#   Get new CNBC-Articles                                                                                              #

cnbc_streamer = CNBCStreamer()
cnbc_newest_date = cnbc_archiver.get_newest_date()
new_cnbc_data = cnbc_streamer.get_new_data(date=cnbc_newest_date)

#   Get new NYT-Articles                                                                                               #

nyt_streamer = NYTStreamer()
nyt_newest_date = nyt_archiver.get_newest_date()
new_nyt_data = nyt_streamer.get_new_data(date=nyt_newest_date)

#   Get new StockData                                                                                                  #
# If Model isn't up-to-date:
#   Retrain Model with new Data
#   add new Data to Archive

# -------------------------------------------------------------------------------------------------------------------- #
# Model makes Prediction [Positive; Neutral; Negative]                                                                 #
# -------------------------------------------------------------------------------------------------------------------- #

# Depending on predict_proba and portfolio make buy orders
# -------------------------------------------------------------------------------------------------------------------- #
# Give orders to OrderHandler                                                                                          #
# -------------------------------------------------------------------------------------------------------------------- #
